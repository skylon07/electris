{
    "scopeName": "electris.source-text.jsx-tags",
    "patterns": [
        { "include": "#tag-declaration" }
    ],
    "repository": {
        "tag-declaration": {
            "begin": "(<)(?!/)([_a-zA-Z0-9\\-]*)",
            "end": "(?<=</[_a-zA-Z0-9\\-]*>|/>)",
            "beginCaptures": {
                "1": { "name": "electris.xml.tag-brace" },
                "2": { "name": "electris.xml.tag-label" }
            },
            "endCaptures": {
                "1": { "name": "electris.xml.tag-brace" }
            },
            "patterns": [
                { "include": "#tag-properties" },
                { "include": "#tag-children" }
            ]
        },

        "tag-properties": {
            "begin": "(?<=<[_a-zA-Z0-9\\-]*)",
            "end": "(>)|(/>)",
            "endCaptures": {
                "1": { "name": "electris.xml.tag-brace" },
                "2": { "name": "electris.xml.tag-brace" }
            },
            "patterns": [
                { "include": "#tag-property-declaration-expression" },
                { "include": "#tag-property-declaration-literal" }
            ]
        },

        "tag-property-declaration-expression": {
            "begin": "([_a-zA-Z0-9\\-]+)(=)(?=\\{)",
            "end": "(?<=\\})",
            "beginCaptures": {
                "1": { "name": "electris.xml.property" },
                "2": { "name": "electris.xml.property-assignment" }
            },
            "endCaptures": {
                "1": { "name": "electris.xml.property-assignment" }
            },
            "patterns": [
                { "include": "#javascript-block" }
            ]
        },
        "tag-property-declaration-literal": {
            "match": "([_a-zA-Z0-9\\-]+)(?:(=)(.*))?",
            "captures": {
                "1": { "name": "electris.xml.property" },
                "2": { "name": "electris.xml.property-assignment" },
                "3": { "name": "electris.xml.property-value" }
            }
        },

        "tag-children": {
            "begin": "(?<!/>)(?<=>)",
            "end": "(</)([_a-zA-Z0-9\\-]*)(>)",
            "endCaptures": {
                "1": { "name": "electris.xml.tag-brace" },
                "2": { "name": "electris.xml.tag-label" },
                "3": { "name": "electris.xml.tag-brace" }
            },
            "patterns": [
                { "include": "#javascript-block" },
                { "include": "#tag-declaration" }
            ]
        },

        "javascript-block": {
            "contentName": "electris.source.embedded.javascript",
            "begin": "(\\{)",
            "end": "(\\})",
            "beginCaptures": {
                "1": { "name": "electris.xml.property-assignment" }
            },
            "endCaptures": {
                "1": { "name": "electris.xml.property-assignment" }
            },
            "patterns": [
                { "include": "electris.source.javascript" }
            ]
        }
    }
}
